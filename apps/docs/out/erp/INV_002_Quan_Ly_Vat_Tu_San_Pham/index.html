<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/erp-docs/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/erp-docs/_next/static/css/4b73dfd0f7bdc629.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/erp-docs/_next/static/chunks/webpack-39532e8569213db6.js"/><script src="/erp-docs/_next/static/chunks/7384d974-8b753aa07a0575a2.js" async=""></script><script src="/erp-docs/_next/static/chunks/381-1b6d0728bba7b8e7.js" async=""></script><script src="/erp-docs/_next/static/chunks/main-app-5d87a2fd0f4f2f33.js" async=""></script><script src="/erp-docs/_next/static/chunks/d550ec10-485e3f71f5def856.js" async=""></script><script src="/erp-docs/_next/static/chunks/993-1b6a71072be86da4.js" async=""></script><script src="/erp-docs/_next/static/chunks/410-1ece2fcedd156d2f.js" async=""></script><script src="/erp-docs/_next/static/chunks/app/%5B...slug%5D/page-7978846c0e32abf5.js" async=""></script><script src="/erp-docs/_next/static/chunks/app/layout-b6ef60bec0ff2cf2.js" async=""></script><title>undefined | ERP Documentation</title><meta name="keywords" content="documentation,ERP,technical,mermaid,markdown"/><meta name="next-size-adjust"/><script src="/erp-docs/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_985585"><div class="min-h-screen flex items-center justify-center"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div></div><script src="/erp-docs/_next/static/chunks/webpack-39532e8569213db6.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/erp-docs/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/erp-docs/_next/static/css/4b73dfd0f7bdc629.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"3:I[5214,[],\"\"]\n5:I[3040,[\"135\",\"static/chunks/d550ec10-485e3f71f5def856.js\",\"993\",\"static/chunks/993-1b6a71072be86da4.js\",\"410\",\"static/chunks/410-1ece2fcedd156d2f.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-7978846c0e32abf5.js\"],\"DocLayout\"]\n6:I[1276,[\"135\",\"static/chunks/d550ec10-485e3f71f5def856.js\",\"993\",\"static/chunks/993-1b6a71072be86da4.js\",\"410\",\"static/chunks/410-1ece2fcedd156d2f.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-7978846c0e32abf5.js\"],\"MDXContent\"]\n8:I[6472,[],\"\"]\na:I[9190,[],\"\"]\nb:I[4550,[\"185\",\"static/chunks/app/layout-b6ef60bec0ff2cf2.js\"],\"ThemeProvider\"]\nc:I[8910,[\"185\",\"static/chunks/app/layout-b6ef60bec0ff2cf2.js\"],\"AuthProvider\"]\ne:I[3013,[],\"\"]\n7:T565d,"])</script><script>self.__next_f.push([1,"# INV_002_Quản Lý Vật Tư Sản Phẩm\n\n*Phiên bản: 1.0*  \n*Người tạo: Auto Generated*  \n*Ngày tạo: 25/07/2023*  \n*Cập nhật lần cuối: 25/07/2023*  \n*Người cập nhật: Auto Generated*\n\n## 1. Tổng Quan Nghiệp Vụ\n\n### 1.1. Mô Tả Nghiệp Vụ\nQuản lý vật tư sản phẩm là quy trình thiết lập và quản lý thông tin về các vật tư, hàng hóa, sản phẩm trong doanh nghiệp. Quy trình này bao gồm việc phân loại, mã hóa, thiết lập thuộc tính và định nghĩa các đặc điểm của sản phẩm/vật tư. Quản lý vật tư sản phẩm hiệu quả giúp doanh nghiệp theo dõi chính xác hàng tồn kho, tối ưu hóa quá trình mua hàng, sản xuất và bán hàng, đồng thời cung cấp thông tin chính xác cho các báo cáo tài chính và quản trị.\n\n### 1.2. Phạm Vi Áp Dụng\nQuy trình này áp dụng cho việc quản lý tất cả các loại vật tư, sản phẩm trong doanh nghiệp, bao gồm:\n- Bộ phận kho vận\n- Bộ phận mua hàng\n- Bộ phận bán hàng\n- Bộ phận sản xuất\n- Bộ phận kế toán\n- Ban lãnh đạo\n\n### 1.3. Định Nghĩa Thuật Ngữ\n| Thuật ngữ | Định nghĩa |\n|-----------|------------|\n| Vật tư | Nguyên vật liệu, hàng hóa, sản phẩm được quản lý trong hệ thống |\n| Mã vật tư | Mã định danh duy nhất cho mỗi vật tư trong hệ thống |\n| Loại vật tư | Phân loại vật tư theo nhóm, chủng loại |\n| Đơn vị tính | Đơn vị đo lường của vật tư (cái, thùng, kg...) |\n| Theo dõi lô | Tính năng theo dõi vật tư theo lô, hạn sử dụng |\n| Cách tính giá tồn kho | Phương pháp tính giá hàng tồn kho (FIFO, LIFO, bình quân...) |\n| Tài khoản kho | Tài khoản kế toán dùng để hạch toán giá trị hàng tồn kho |\n\n### 1.4. Tài Liệu Liên Quan\n\n| STT | Mã tài liệu | Tên tài liệu | Mô tả |\n|-----|-------------|--------------|-------|\n| 1   | INV_001 | Quản Lý Kho Hàng | Quy trình thiết lập và quản lý kho hàng |\n| 2   | INV_003 | Quản Lý Loại Vật Tư | Quy trình phân loại và quản lý loại vật tư |\n| 3   | INV_004 | Quản Lý Đơn Vị Tính | Quy trình quản lý đơn vị tính và quy đổi đơn vị |\n| 4   | INV_005 | Quản Lý Nhập Xuất Kho | Quy trình nhập xuất kho |\n| 5   | PUR_004 | Quản Lý Giá Mua | Quy trình thiết lập và quản lý giá mua |\n\n## 2. Quy Trình Nghiệp Vụ\n\n### 2.1. Tổng Quan Quy Trình\nQuy trình quản lý vật tư sản phẩm bao gồm việc thiết lập thông tin cơ bản, cấu hình thuộc tính, thiết lập đơn vị tính, thiết lập giá và các thông số kế toán, kích hoạt sử dụng, và theo dõi, đánh giá định kỳ. Quy trình đảm bảo thông tin vật tư được định nghĩa đầy đủ và chính xác trước khi đưa vào sử dụng trong các nghiệp vụ khác như nhập kho, xuất kho, bán hàng.\n\n### 2.2. Sơ Đồ Quy Trình (Business Flow)\n\n```mermaid\nflowchart TD\n    A[Bắt đầu] --\u003e B[Xác định nhu cầu thêm vật tư mới]\n    B --\u003e C[Kiểm tra vật tư đã tồn tại]\n    C --\u003e D{Đã tồn tại?}\n    D --\u003e|Có| E[Cập nhật thông tin vật tư]\n    D --\u003e|Không| F[Tạo vật tư mới]\n    F --\u003e G[Nhập thông tin cơ bản]\n    G --\u003e H[Chọn loại vật tư]\n    H --\u003e I[Thiết lập đơn vị tính]\n    I --\u003e J[Thiết lập tài khoản kế toán]\n    J --\u003e K[Thiết lập cách tính giá tồn kho]\n    K --\u003e L[Thiết lập thuộc tính theo dõi]\n    L --\u003e M[Thiết lập kho mặc định]\n    E --\u003e N[Xem xét các thuộc tính cần cập nhật]\n    N --\u003e O[Thực hiện cập nhật]\n    M --\u003e P[Kích hoạt trong hệ thống]\n    O --\u003e P\n    P --\u003e Q[Sử dụng trong giao dịch]\n    Q --\u003e R[Theo dõi và đánh giá định kỳ]\n    R --\u003e S{Cần điều chỉnh?}\n    S --\u003e|Có| E\n    S --\u003e|Không| T[Tiếp tục sử dụng]\n    T --\u003e U[Kết thúc]\n```\n\n### 2.3. Chi Tiết Các Bước Quy Trình\n\n#### 2.3.1. Xác định nhu cầu và kiểm tra vật tư\n- **Mô tả**: Xác định nhu cầu thêm vật tư mới và kiểm tra xem vật tư đã tồn tại trong hệ thống chưa\n- **Đầu vào**: Thông tin yêu cầu vật tư mới, thông tin tìm kiếm\n- **Đầu ra**: Kết quả kiểm tra (tồn tại/không tồn tại)\n- **Người thực hiện**: Nhân viên quản lý vật tư, nhân viên mua hàng\n- **Điều kiện tiên quyết**: Có nhu cầu thêm vật tư mới\n- **Xử lý ngoại lệ**: Nếu không chắc chắn về việc vật tư đã tồn tại, cần kiểm tra kỹ với nhiều tiêu chí tìm kiếm khác nhau\n\n#### 2.3.2. Tạo vật tư mới và nhập thông tin cơ bản\n- **Mô tả**: Tạo vật tư mới và nhập các thông tin cơ bản\n- **Đầu vào**: Thông tin vật tư (tên, mã, mô tả, loại vật tư...)\n- **Đầu ra**: Vật tư mới được tạo với thông tin cơ bản\n- **Người thực hiện**: Nhân viên quản lý vật tư\n- **Điều kiện tiên quyết**: Vật tư chưa tồn tại trong hệ thống\n- **Xử lý ngoại lệ**: Kiểm tra trùng lặp mã vật tư, đảm bảo thông tin đầy đủ và chính xác\n\n#### 2.3.3. Thiết lập đơn vị tính và kế toán\n- **Mô tả**: Thiết lập đơn vị tính, tài khoản kế toán và cách tính giá tồn kho\n- **Đầu vào**: Thông tin đơn vị tính, tài khoản kế toán, phương pháp tính giá\n- **Đầu ra**: Vật tư được cấu hình đầy đủ các thông số\n- **Người thực hiện**: Nhân viên quản lý vật tư, kế toán\n- **Điều kiện tiên quyết**: Vật tư đã được tạo với thông tin cơ bản\n- **Xử lý ngoại lệ**: Đảm bảo đơn vị tính phù hợp, tài khoản kế toán chính xác\n\n#### 2.3.4. Kích hoạt và sử dụng\n- **Mô tả**: Kích hoạt vật tư trong hệ thống và đưa vào sử dụng\n- **Đầu vào**: Vật tư đã cấu hình đầy đủ\n- **Đầu ra**: Vật tư được kích hoạt và sẵn sàng sử dụng\n- **Người thực hiện**: Nhân viên quản lý vật tư\n- **Điều kiện tiên quyết**: Vật tư đã được cấu hình đầy đủ các thông số\n- **Xử lý ngoại lệ**: Kiểm tra lại toàn bộ thông tin trước khi kích hoạt\n\n### 2.4. Sơ Đồ Tuần Tự (Sequence Diagram)\n\n```mermaid\nsequenceDiagram\n    participant User as Người dùng\n    participant System as Hệ thống\n    participant VatTu as VatTuService\n    participant LoaiVatTu as LoaiVatTuService\n    participant DonViTinh as DonViTinhService\n    participant DB as Database\n    \n    User-\u003e\u003eSystem: Yêu cầu tạo vật tư mới\n    System-\u003e\u003eVatTu: Chuyển yêu cầu\n    VatTu-\u003e\u003eDB: Kiểm tra vật tư đã tồn tại\n    DB--\u003e\u003eVatTu: Kết quả kiểm tra\n    \n    alt Vật tư chưa tồn tại\n        VatTu-\u003e\u003eLoaiVatTu: Lấy danh sách loại vật tư\n        LoaiVatTu-\u003e\u003eDB: Truy vấn dữ liệu\n        DB--\u003e\u003eLoaiVatTu: Trả về dữ liệu\n        LoaiVatTu--\u003e\u003eVatTu: Danh sách loại vật tư\n        \n        VatTu-\u003e\u003eDonViTinh: Lấy danh sách đơn vị tính\n        DonViTinh-\u003e\u003eDB: Truy vấn dữ liệu\n        DB--\u003e\u003eDonViTinh: Trả về dữ liệu\n        DonViTinh--\u003e\u003eVatTu: Danh sách đơn vị tính\n        \n        VatTu--\u003e\u003eSystem: Hiển thị form nhập liệu\n        System--\u003e\u003eUser: Hiển thị form cho người dùng\n        \n        User-\u003e\u003eSystem: Nhập thông tin vật tư\n        System-\u003e\u003eVatTu: Gửi dữ liệu\n        VatTu-\u003e\u003eVatTu: Validate dữ liệu\n        VatTu-\u003e\u003eDB: Lưu vật tư mới\n        DB--\u003e\u003eVatTu: Xác nhận lưu thành công\n        \n        User-\u003e\u003eSystem: Thêm đơn vị tính\n        System-\u003e\u003eDonViTinh: Gửi dữ liệu\n        DonViTinh-\u003e\u003eDB: Lưu đơn vị tính\n        DB--\u003e\u003eDonViTinh: Xác nhận lưu thành công\n        \n        User-\u003e\u003eSystem: Kích hoạt vật tư\n        System-\u003e\u003eVatTu: Cập nhật trạng thái\n        VatTu-\u003e\u003eDB: Lưu trạng thái\n        DB--\u003e\u003eVatTu: Xác nhận lưu thành công\n        VatTu--\u003e\u003eSystem: Thông báo thành công\n        System--\u003e\u003eUser: Hiển thị thông báo\n    else Vật tư đã tồn tại\n        VatTu--\u003e\u003eSystem: Thông báo đã tồn tại\n        System--\u003e\u003eUser: Hiển thị thông tin vật tư\n        User-\u003e\u003eSystem: Yêu cầu cập nhật\n        System-\u003e\u003eVatTu: Gửi dữ liệu cập nhật\n        VatTu-\u003e\u003eDB: Cập nhật thông tin\n        DB--\u003e\u003eVatTu: Xác nhận cập nhật thành công\n        VatTu--\u003e\u003eSystem: Thông báo thành công\n        System--\u003e\u003eUser: Hiển thị thông báo\n    end\n```\n\n### 2.5. Luồng Nghiệp Vụ Thay Thế\n- **Nhập hàng loạt**: Thay vì tạo từng vật tư một, người dùng có thể nhập hàng loạt nhiều vật tư cùng lúc thông qua file Excel\n- **Sao chép vật tư**: Tạo vật tư mới bằng cách sao chép từ vật tư đã có và chỉnh sửa một số thông tin\n- **Ngừng sử dụng vật tư**: Khi vật tư không còn được sử dụng, có thể chuyển trạng thái sang \"Ngừng sử dụng\" thay vì xóa khỏi hệ thống\n\n## 3. Yêu Cầu Chức Năng\n\n### 3.1. Danh Sách Chức Năng\n\n| STT | Mã chức năng | Tên chức năng | Mô tả | Độ ưu tiên |\n|-----|--------------|---------------|-------|------------|\n| 1   | PROD_LIST | Xem danh sách vật tư | Hiển thị danh sách vật tư với các bộ lọc và tìm kiếm | Cao |\n| 2   | PROD_CREATE | Tạo vật tư mới | Thêm vật tư mới vào hệ thống | Cao |\n| 3   | PROD_UPDATE | Cập nhật vật tư | Chỉnh sửa thông tin vật tư | Cao |\n| 4   | PROD_VIEW | Xem chi tiết vật tư | Xem toàn bộ thông tin chi tiết của vật tư | Cao |\n| 5   | PROD_UOM | Quản lý đơn vị tính | Thêm, sửa, xóa đơn vị tính cho vật tư | Cao |\n| 6   | PROD_STATUS | Thay đổi trạng thái | Đánh dấu vật tư là active/inactive | Cao |\n| 7   | PROD_IMPORT | Nhập dữ liệu hàng loạt | Nhập nhiều vật tư từ file Excel | Trung bình |\n| 8   | PROD_EXPORT | Xuất dữ liệu | Xuất danh sách vật tư ra file | Thấp |\n\n### 3.2. Chi Tiết Chức Năng\n\n#### 3.2.1. PROD_CREATE: Tạo vật tư mới\n- **Mô tả**: Cho phép người dùng tạo vật tư mới trong hệ thống\n- **Đầu vào**: Thông tin vật tư (tên, mã, mô tả, loại vật tư, đơn vị tính, tài khoản kế toán, v.v.)\n- **Đầu ra**: Bản ghi vật tư mới trong hệ thống\n- **Điều kiện tiên quyết**: Người dùng đã đăng nhập và có quyền tạo vật tư\n- **Luồng xử lý chính**:\n  1. Người dùng chọn \"Tạo vật tư mới\"\n  2. Hệ thống hiển thị form nhập thông tin\n  3. Người dùng nhập thông tin cơ bản (tên, mã, mô tả)\n  4. Người dùng chọn loại vật tư\n  5. Người dùng chọn đơn vị tính chính\n  6. Người dùng thiết lập tài khoản kế toán và cách tính giá tồn kho\n  7. Người dùng chọn kho mặc định (nếu có)\n  8. Người dùng nhấn \"Lưu\"\n  9. Hệ thống kiểm tra tính hợp lệ của dữ liệu\n  10. Hệ thống lưu vật tư mới\n- **Luồng xử lý thay thế/ngoại lệ**:\n  1. Nếu dữ liệu không hợp lệ, hiển thị thông báo lỗi\n  2. Nếu mã vật tư đã tồn tại, yêu cầu nhập mã khác\n- **Giao diện liên quan**: Form tạo vật tư mới\n\n#### 3.2.2. PROD_UOM: Quản lý đơn vị tính\n- **Mô tả**: Cho phép quản lý đơn vị tính cho vật tư\n- **Đầu vào**: ID vật tư, thông tin đơn vị tính (mã, tên, hệ số quy đổi)\n- **Đầu ra**: Đơn vị tính được thêm, sửa hoặc xóa\n- **Điều kiện tiên quyết**: Vật tư đã tồn tại trong hệ thống\n- **Luồng xử lý chính**:\n  1. Người dùng chọn vật tư cần quản lý đơn vị tính\n  2. Hệ thống hiển thị danh sách đơn vị tính hiện tại\n  3. Người dùng có thể thêm, sửa hoặc xóa đơn vị tính\n  4. Khi thêm đơn vị tính, người dùng nhập tên và hệ số quy đổi\n  5. Người dùng nhấn \"Lưu\"\n  6. Hệ thống cập nhật thông tin đơn vị tính\n- **Luồng xử lý thay thế/ngoại lệ**:\n  1. Không thể xóa đơn vị tính đang được sử dụng trong giao dịch\n  2. Kiểm tra tính hợp lệ của hệ số quy đổi\n- **Giao diện liên quan**: Màn hình quản lý đơn vị tính\n\n## 4. Thiết Kế Kỹ Thuật\n\n### 4.1. Kiến Trúc Hệ Thống\n\n```mermaid\nflowchart TD\n    A[Client] --\u003e B[API Gateway]\n    B --\u003e C[VatTuService]\n    C --\u003e D[VatTuRepository]\n    C --\u003e E[LoaiVatTuService]\n    E --\u003e F[LoaiVatTuRepository]\n    C --\u003e G[DonViTinhService]\n    G --\u003e H[DonViTinhRepository]\n    D --\u003e I[(Database)]\n    F --\u003e I\n    H --\u003e I\n```\n\n### 4.2. API Endpoints\n\n#### 4.2.1. Lấy danh sách vật tư\n- **Mô tả**: Trả về danh sách vật tư theo điều kiện lọc\n- **URL**: `GET /api/v1/entity/{entity_slug}/vat-tu/`\n- **Query Parameters**:\n  - `trang_thai`: Lọc theo trạng thái active (1/0)\n  - `loai_vat_tu`: Lọc theo loại vật tư\n  - `kho`: Lọc theo kho mặc định\n  - `search`: Từ khóa tìm kiếm (tên, mã vật tư)\n  - `page`: Số trang\n  - `page_size`: Số bản ghi trên mỗi trang\n  - `ordering`: Trường sắp xếp\n- **Response**: Danh sách vật tư, phân trang\n\n#### 4.2.2. Lấy chi tiết vật tư\n- **Mô tả**: Trả về thông tin chi tiết của một vật tư\n- **URL**: `GET /api/v1/entity/{entity_slug}/vat-tu/{uuid}/`\n- **Response**: Chi tiết vật tư\n\n#### 4.2.3. Tạo vật tư mới\n- **Mô tả**: Tạo vật tư mới trong hệ thống\n- **URL**: `POST /api/v1/entity/{entity_slug}/vat-tu/`\n- **Request Body**: Thông tin vật tư\n- **Response**: Thông tin vật tư đã tạo\n\n#### 4.2.4. Cập nhật vật tư\n- **Mô tả**: Cập nhật thông tin vật tư\n- **URL**: `PUT /api/v1/entity/{entity_slug}/vat-tu/{uuid}/`\n- **Request Body**: Thông tin cập nhật\n- **Response**: Thông tin vật tư đã cập nhật\n\n#### 4.2.5. Quản lý đơn vị tính\n- **Mô tả**: Quản lý đơn vị tính cho vật tư\n- **URL**: `POST /api/v1/entity/{entity_slug}/vat-tu/{uuid}/don-vi-tinh/`\n- **Request Body**: Thông tin đơn vị tính\n- **Response**: Kết quả cập nhật\n\n### 4.3. Service Logic\n\n#### 4.3.1. VatTuService\n- **Mô tả**: Xử lý logic nghiệp vụ liên quan đến quản lý vật tư\n- **Chức năng chính**:\n  1. Tạo và quản lý vật tư\n  2. Cập nhật thông tin vật tư\n  3. Quản lý đơn vị tính\n  4. Quản lý trạng thái vật tư\n- **Các dependencies**:\n  1. VatTuRepository\n  2. LoaiVatTuService\n  3. DonViTinhService\n- **Sơ đồ luồng xử lý**:\n\n```mermaid\nflowchart TD\n    A[Nhận request] --\u003e B[Validate dữ liệu]\n    B --\u003e C{Dữ liệu hợp lệ?}\n    C --\u003e|Có| D[Xử lý business logic]\n    C --\u003e|Không| E[Trả về lỗi]\n    D --\u003e F{Loại thao tác?}\n    F --\u003e|Tạo| G[Tạo vật tư mới]\n    F --\u003e|Cập nhật| H[Cập nhật vật tư]\n    F --\u003e|Quản lý đơn vị tính| I[Xử lý đơn vị tính]\n    G --\u003e J[Kiểm tra trùng lặp]\n    J --\u003e K{Trùng lặp?}\n    K --\u003e|Có| L[Thông báo lỗi]\n    K --\u003e|Không| M[Lưu vật tư mới]\n    H --\u003e N[Lưu thay đổi]\n    I --\u003e O[Cập nhật đơn vị tính]\n    M --\u003e P[Ghi log]\n    N --\u003e P\n    O --\u003e P\n    L --\u003e P\n    P --\u003e Q[Trả về kết quả]\n    E --\u003e P\n```\n\n### 4.4. Mô Hình Dữ Liệu\n\n#### 4.4.1. Entity Relationship Diagram (ERD)\n\n```mermaid\nerDiagram\n    EntityModel ||--o{ VatTuModel : \"có\"\n    LoaiVatTuModel ||--o{ VatTuModel : \"phân loại\"\n    KhoHangModel ||--o{ VatTuModel : \"là kho mặc định của\"\n    VatTuModel ||--o{ VatTuSanPhamDonViTinhModel : \"có\"\n    DonViTinhModel ||--o{ VatTuSanPhamDonViTinhModel : \"sử dụng trong\"\n    \n    VatTuModel {\n        UUID uuid PK\n        FK EntityModel entity_model\n        String ma_vat_tu\n        String ten_vat_tu\n        String mo_ta\n        FK LoaiVatTuModel loai_vat_tu\n        FK KhoHangModel ma_kho_mac_dinh\n        FK AccountModel tk_kho\n        FK AccountModel tk_doanh_thu\n        FK AccountModel tk_gia_von\n        FK ThueSuatModel ma_thue_mac_dinh\n        String barcode\n        Boolean theo_doi_lo\n        Integer cach_tinh_gia_ton_kho\n        Integer trang_thai\n        DateTime created\n        DateTime updated\n    }\n    \n    VatTuSanPhamDonViTinhModel {\n        UUID uuid PK\n        FK VatTuModel vat_tu_san_pham_id\n        FK DonViTinhModel don_vi_tinh_id\n        String ten_dvt\n        Decimal he_so\n        DateTime created\n        DateTime updated\n    }\n    \n    LoaiVatTuModel {\n        UUID uuid PK\n        String ma_loai_vat_tu\n        String ten_loai_vat_tu\n        String ten_khac\n        FK AccountModel tk_kho\n        FK AccountModel tk_doanh_thu\n        FK AccountModel tk_gia_von\n        Integer trang_thai\n        DateTime created\n        DateTime updated\n    }\n```\n\n#### 4.4.2. Chi Tiết Bảng Dữ Liệu\n\n##### Bảng: VatTuModel\n- **Mô tả**: Lưu trữ thông tin về vật tư, sản phẩm\n- **Các trường chính**:\n  - `uuid`: Khóa chính, định danh duy nhất\n  - `entity_model`: Khóa ngoại tham chiếu đến EntityModel\n  - `ma_vat_tu`: Mã vật tư\n  - `ten_vat_tu`: Tên vật tư\n  - `mo_ta`: Mô tả chi tiết\n  - `loai_vat_tu`: Khóa ngoại tham chiếu đến LoaiVatTuModel\n  - `ma_kho_mac_dinh`: Khóa ngoại tham chiếu đến kho mặc định (KhoHangModel)\n  - `tk_kho`: Khóa ngoại tham chiếu đến tài khoản kho (AccountModel)\n  - `tk_doanh_thu`: Khóa ngoại tham chiếu đến tài khoản doanh thu (AccountModel)\n  - `tk_gia_von`: Khóa ngoại tham chiếu đến tài khoản giá vốn (AccountModel)\n  - `ma_thue_mac_dinh`: Khóa ngoại tham chiếu đến thuế mặc định (ThueSuatModel)\n  - `barcode`: Mã vạch\n  - `theo_doi_lo`: Có theo dõi theo lô hay không\n  - `cach_tinh_gia_ton_kho`: Phương pháp tính giá tồn kho\n  - `trang_thai`: Trạng thái (1: active, 0: inactive)\n  - `created`: Thời gian tạo\n  - `updated`: Thời gian cập nhật\n\n##### Bảng: VatTuSanPhamDonViTinhModel\n- **Mô tả**: Lưu trữ thông tin về đơn vị tính của vật tư\n- **Các trường chính**:\n  - `uuid`: Khóa chính, định danh duy nhất\n  - `vat_tu_san_pham_id`: Khóa ngoại tham chiếu đến VatTuModel\n  - `don_vi_tinh_id`: Khóa ngoại tham chiếu đến DonViTinhModel\n  - `ten_dvt`: Tên đơn vị tính\n  - `he_so`: Hệ số quy đổi\n  - `created`: Thời gian tạo\n  - `updated`: Thời gian cập nhật\n\n## 5. Kế Hoạch Kiểm Thử\n\n### 5.1. Phạm Vi Kiểm Thử\nKiểm thử sẽ bao gồm tất cả các chức năng liên quan đến quản lý vật tư sản phẩm, bao gồm:\n- Tạo mới vật tư sản phẩm\n- Cập nhật thông tin vật tư sản phẩm\n- Quản lý đơn vị tính\n- Tìm kiếm và lọc vật tư sản phẩm\n- Thay đổi trạng thái vật tư sản phẩm\n- Nhập dữ liệu vật tư hàng loạt\n- Kiểm tra tích hợp với các phân hệ liên quan (mua hàng, kho, kế toán)\n\n### 5.2. Kịch Bản Kiểm Thử\n\n| STT | Mã kịch bản | Tên kịch bản | Mô tả | Điều kiện tiên quyết | Các bước | Kết quả mong đợi |\n|-----|------------|--------------|-------|---------------------|----------|-----------------|\n| 1   | TC_PROD_C01 | Tạo vật tư mới thành công | Kiểm tra việc tạo vật tư mới | Người dùng đã đăng nhập và có quyền | 1. Truy cập form tạo vật tư\u003cbr\u003e2. Nhập thông tin hợp lệ\u003cbr\u003e3. Nhấn Lưu | Vật tư mới được tạo thành công |\n| 2   | TC_PROD_C02 | Tạo vật tư với mã trùng | Kiểm tra validate mã vật tư trùng | Đã có vật tư trong hệ thống | 1. Truy cập form tạo vật tư\u003cbr\u003e2. Nhập mã vật tư đã tồn tại\u003cbr\u003e3. Nhấn Lưu | Hiển thị thông báo lỗi về mã vật tư trùng |\n| 3   | TC_PROD_U01 | Cập nhật thông tin vật tư | Kiểm tra cập nhật thông tin | Vật tư đã tồn tại | 1. Mở form cập nhật\u003cbr\u003e2. Thay đổi thông tin\u003cbr\u003e3. Nhấn Lưu | Thông tin được cập nhật thành công |\n| 4   | TC_PROD_UOM01 | Thêm đơn vị tính | Kiểm tra thêm đơn vị tính | Vật tư đã tồn tại | 1. Chọn vật tư\u003cbr\u003e2. Thêm đơn vị tính mới\u003cbr\u003e3. Nhập hệ số quy đổi\u003cbr\u003e4. Lưu | Đơn vị tính mới được thêm thành công |\n| 5   | TC_PROD_S01 | Thay đổi trạng thái vật tư | Kiểm tra thay đổi trạng thái | Vật tư đang hoạt động | 1. Chọn vật tư\u003cbr\u003e2. Đổi trạng thái sang không hoạt động\u003cbr\u003e3. Lưu | Trạng thái được cập nhật, vật tư không xuất hiện trong danh sách mặc định |\n\n## 6. Phụ Lục\n\n### 6.1. Danh Sách Tài Liệu Tham Khảo\n1. Tài liệu thiết kế cơ sở dữ liệu ERP\n2. Tài liệu API đặc tả\n3. Quy định về quản lý vật tư của doanh nghiệp\n\n### 6.2. Danh Mục Thuật Ngữ\n- **VatTuModel**: Mô hình dữ liệu lưu trữ thông tin vật tư\n- **LoaiVatTuModel**: Mô hình dữ liệu phân loại vật tư\n- **VatTuSanPhamDonViTinhModel**: Mô hình dữ liệu đơn vị tính của vật tư\n- **FIFO**: First In First Out - Phương pháp tính giá tồn kho nhập trước xuất trước\n- **LIFO**: Last In First Out - Phương pháp tính giá tồn kho nhập sau xuất trước\n- **Bình quân**: Phương pháp tính giá tồn kho theo giá trị bình quân\n\n### 6.3. Lịch Sử Thay Đổi Tài Liệu\n\n| Phiên bản | Ngày | Người thực hiện | Mô tả thay đổi |\n|-----------|------|-----------------|---------------|\n| 1.0 | 25/07/2023 | Auto Generated | Tạo tài liệu ban đầu |"])</script><script>self.__next_f.push([1,"9:[\"slug\",\"erp/INV_002_Quan_Ly_Vat_Tu_San_Pham\",\"c\"]\nf:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/erp-docs/_next/static/css/4b73dfd0f7bdc629.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"X5KF-BjlTdL2YCafX7ACW\",\"assetPrefix\":\"/erp-docs\",\"initialCanonicalUrl\":\"/erp/INV_002_Quan_Ly_Vat_Tu_San_Pham/\",\"initialTree\":[\"\",{\"children\":[[\"slug\",\"erp/INV_002_Quan_Ly_Vat_Tu_San_Pham\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"erp\\\",\\\"INV_002_Quan_Ly_Vat_Tu_San_Pham\\\"]}\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[[\"slug\",\"erp/INV_002_Quan_Ly_Vat_Tu_San_Pham\",\"c\"],{\"children\":[\"__PAGE__\",{},[[\"$L4\",[\"$\",\"$L5\",null,{\"children\":[\"$\",\"article\",null,{\"className\":\"prose prose-slate dark:prose-invert max-w-none\",\"children\":[[\"$\",\"header\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"mb-2\",\"children\":\"$undefined\"}],\"$undefined\",\"$undefined\"]}],[\"$\",\"$L6\",null,{\"content\":\"$7\"}]]}]}]],null],null]},[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$9\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__className_985585\",\"children\":[\"$\",\"$Lb\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"$Lc\",null,{\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}]}]}]}],null],null],\"couldBeIntercepted\":false,\"initialHead\":[false,\"$Ld\"],\"globalErrorComponent\":\"$e\",\"missingSlots\":\"$Wf\"}]]\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"undefined | ERP Documentation\"}],[\"$\",\"meta\",\"3\",{\"name\":\"keywords\",\"content\":\"documentation,ERP,technical,mermaid,markdown\"}],[\"$\",\"meta\",\"4\",{\"name\":\"next-size-adjust\"}]]\n4:null\n"])</script></body></html>